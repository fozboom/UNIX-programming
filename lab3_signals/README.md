# Лабораторная работа №3. Взаимодействие и синхронизация процессов

## Задание

Реализовать программу, которая осуществляет управление дочерними процессами и упорядочивает вывод в stdout от них, используя сигналы SIGUSR1 и SIGUSR2.

### Действия родительского процесса

- При нажатии клавиши "+" родительский процесс (P) порождает дочерний процесс (C_k) и сообщает об этом.
- При нажатии клавиши "-" P удаляет последний порожденный C_k, сообщает об этом и о количестве оставшихся.
- При вводе символа "l" выводится перечень родительских и дочерних процессов.
- При вводе символа "k" P удаляет все C_k и сообщает об этом.
- При вводе символа "s" P запрещает всем C_k выводить статистику.
- При вводе символа "g" P разрешает всем C_k выводить статистику.
- При вводе символов "s<num>" P запрещает C_<num> выводить статистику.
- При вводе символов "g<num>" P разрешает C_<num> выводить статистику.
- При вводе символов "p<num>" P запрещает всем C_k вывод и запрашивает C_<num> вывести свою статистику. По истечению заданного времени (5 секунд, например), если не введен символ "g", разрешает всем C_k снова выводить статистику.
- При нажатии клавиши "q" P удаляет все C_k, сообщает об этом и завершается.

### Действия дочернего процесса

Дочерний процесс во внешнем цикле устанавливает таймер (с помощью функции nanosleep(2)) и входит в вечный цикл, в котором заполняет структуру, содержащую пару переменных типа int, значениями {0, 0} и {1, 1} в режиме чередования. Поскольку заполнение не является атомарным, в момент срабатывания таймера в структуре может оказаться любая возможная комбинация из 0 и 1.

При получении сигнала от таймера, дочерний процесс проверяет содержимое структуры, собирает статистику и повторяет тело внешнего цикла.

Через заданное количество повторений внешнего цикла (например, через 101) дочерний процесс, если ему разрешено, выводит свой PPID, PID и 4 числа — количество разных пар, зарегистрированных в момент получения сигнала от таймера.

Вывод осуществляется в одну строку.

Следует подобрать интервал времени ожидания и количество повторений внешнего цикла, чтобы статистика была значимой.

Сообщения выводятся в stdout.

Сообщения процессов должны содержать идентифицирующие их данные, чтобы можно было фильтровать вывод утилитой grep.